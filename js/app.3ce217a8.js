(function(){"use strict";var e={5988:function(e,t,n){var a=n(9242),o=n(3396),s=n(7139);const r=Symbol("AxiosKey"),l=n(6265);l.defaults.baseURL="/backend",l.defaults.paramsSerializer=e=>Object.entries(e).map((([e,t])=>Array.isArray(t)?t.map((t=>`${e}=${t}`)).join("&"):`${e}=${t}`)).join("&");const i=Symbol("BytesToOtherKey");function c(e){if(0===e)return"0B";const t=["","K","M","G","T","P"],n=1024,a=Math.log(e)/Math.log(n),o=Math.floor(a);return(e/n**o).toFixed(2)+t[o]+"B"}const u=Symbol("InitialiseWidgetKey");function d(e,t=1e3,n=!0){e(),setInterval((()=>{!document.hasFocus()&&n||e()}),t)}var f=n(4870);const _={class:"widget text-8xl text-right font-bold"},w=(0,o._)("br",null,null,-1);var p=(0,o.aZ)({setup(e){const t=(0,f.iH)(a());function n(){t.value=a()}function a(){const e=new Date;return{date:e.toLocaleDateString(),time:e.toLocaleTimeString()}}return(0,o.f3)(u)?.(n,10,!1),(e,n)=>((0,o.wg)(),(0,o.iD)("h1",_,[(0,o.Uk)((0,s.zw)(t.value.date)+" ",1),w,(0,o.Uk)(" "+(0,s.zw)(t.value.time),1)]))}});const m=p;var h=m;const v={class:"widget"},x={class:"flex flex-row justify-between items-center text-3xl font-bold mb-2"},y={key:0},g={key:2};var C=(0,o.aZ)({props:{bodyClasses:{type:[String,Array],default:"flex flex-col"},headerIcon:{type:[String,Array],default:""}},setup(e){const t=e;function n(e){return Array.isArray(e)?e.join(" "):e}const a=(0,o.Fl)((()=>n(t.bodyClasses))),r=(0,o.Fl)((()=>n(t.headerIcon)));return(e,t)=>((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("h3",x,[e.$slots.header?((0,o.wg)(),(0,o.iD)("span",y,[(0,o.WI)(e.$slots,"header")])):(0,o.kq)("",!0),(0,f.SU)(r).length?((0,o.wg)(),(0,o.iD)("i",{key:1,class:(0,s.C_)((0,f.SU)(r))},null,2)):(0,o.kq)("",!0),e.$slots.header_additional?((0,o.wg)(),(0,o.iD)("span",g,[(0,o.WI)(e.$slots,"header_additional")])):(0,o.kq)("",!0)]),(0,o._)("div",{class:(0,s.C_)((0,f.SU)(a))},[(0,o.WI)(e.$slots,"default")],2)]))}});const b=C;var k=b;const D=(0,o.Uk)(" CPU "),U={class:"space-y-1"},P=["textContent"],A=["textContent"];var E=(0,o.aZ)({setup(e){const t=(0,f.iH)([]),n=(0,o.f3)(r);function a(){n?.get("/cpu")?.then((({data:e})=>{t.value=e}))}(0,o.f3)(u)?.(a);const l=e=>e>75?"red":e>50?"orange":e>25?"yellow":"green";return(e,n)=>t.value?((0,o.wg)(),(0,o.j4)(k,{key:0,class:"cpu-widget","header-icon":"fa-solid fa-microchip"},{header:(0,o.w5)((()=>[D])),default:(0,o.w5)((()=>[(0,o._)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:`core${t}`,class:"flex flex-row"},[(0,o._)("span",{class:"min-w-[1rem] text-center",textContent:(0,s.zw)(t)},null,8,P),(0,o._)("span",{class:"mr-auto",style:(0,s.j5)({width:`${e}%`,backgroundColor:l(e)})},null,4),(0,o._)("span",{class:"min-w-[2rem] ml-1",textContent:(0,s.zw)(`${e.toFixed(0)}%`)},null,8,A)])))),128))])])),_:1})):(0,o.kq)("",!0)}});const z=E;var j=z;const $=(0,o.Uk)(" Memory "),F=["textContent"];var S=(0,o.aZ)({setup(e){const t=(0,f.iH)(null),n=(0,o.f3)(r);function a(){n?.get("/memory")?.then((e=>{const{available:n,total:a}=e.data;t.value={available:(n/1024/1024).toFixed(2),total:(a/1024/1024).toFixed(2)}}))}return(0,o.f3)(u)?.(a),(e,n)=>t.value?((0,o.wg)(),(0,o.j4)(k,{key:0,"header-icon":"fa-solid fa-memory"},{header:(0,o.w5)((()=>[$])),default:(0,o.w5)((()=>[(0,o._)("span",{textContent:(0,s.zw)(`${t.value.available}MB available of ${t.value.total}MB`)},null,8,F)])),_:1})):(0,o.kq)("",!0)}});const Z=S;var O=Z;const H=(0,o.Uk)(" Disk "),T={class:"w-full"},I=(0,o._)("thead",{class:"border-b"},[(0,o._)("th",{class:"w-1/5"},"Mount Point"),(0,o._)("th",{class:"w-1/5"},"Used"),(0,o._)("th",{class:"w-1/5"},"Free"),(0,o._)("th",{class:"w-1/5"},"Total"),(0,o._)("th",{class:"w-1/5"},"% Used")],-1),R=["textContent"],L=["textContent"],W=["textContent"],N=["textContent"],K=["textContent"];var M=(0,o.aZ)({setup(e){const t=(0,f.iH)({}),n=(0,o.f3)(i),a=({used:e,free:t,total:a,percent:o})=>({used:n?.(e),free:n?.(t),total:n?.(a),percent:`${o}%`}),l=(0,o.f3)(r);function c(){l?.get("/disk")?.then((({data:e})=>{Object.keys(e).forEach((n=>{null!==n&&null!==e[n]&&(t.value[n]=a(e[n]))}))}))}return(0,o.f3)(u)?.(c),(e,n)=>t.value?((0,o.wg)(),(0,o.j4)(k,{key:0,"header-icon":"fa-solid fa-database"},{header:(0,o.w5)((()=>[H])),default:(0,o.w5)((()=>[(0,o._)("table",T,[I,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",{textContent:(0,s.zw)(t)},null,8,R),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.used)},null,8,L),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.free)},null,8,W),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.total)},null,8,N),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.percent)},null,8,K)])))),128))])])])),_:1})):(0,o.kq)("",!0)}});const q=M;var V=q;const Y=(0,o.Uk)(" Temperatures "),B=["textContent"],G=(0,o.Uk)(": "),J=["textContent"];var Q=(0,o.aZ)({setup(e){const t=(0,f.iH)([]),n=(0,o.f3)(r);function a(){n?.get("/temperatures")?.then((({data:e})=>{const n=Object.keys(e).map((t=>{const{current:n}=e[t];return{key:t,title:t.split("_").map((e=>e[0].toUpperCase()+e.slice(1))).join(" "),temps:`${Number.parseFloat(n).toFixed(2)}°C`}}));t.value=n}))}return(0,o.f3)(u)?.(a),(e,n)=>t.value?((0,o.wg)(),(0,o.j4)(k,{key:0,"header-icon":"fa-solid fa-temperature-three-quarters"},{header:(0,o.w5)((()=>[Y])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e.key},[(0,o._)("strong",{textContent:(0,s.zw)(e.title)},null,8,B),G,(0,o._)("span",{textContent:(0,s.zw)(e.temps)},null,8,J)])))),128))])),_:1})):(0,o.kq)("",!0)}});const X=Q;var ee=X,te=n(2482);const ne=(0,o.Uk)(" Transmission "),ae={class:"w-full"},oe=(0,o._)("thead",{class:"border-b"},[(0,o._)("th",{class:"w-3/4"},"Name"),(0,o._)("th",{class:"w-1/8"},"% done"),(0,o._)("th",{class:"w-1/8"},[(0,o._)("i",{class:"fa-solid fa-arrow-down mr-2"}),(0,o.Uk)("Speed")])],-1),se=["textContent"],re=["textContent"],le=["textContent"];var ie=(0,o.aZ)({setup(e){class t{constructor(e="",t=-1,n="",a=-1,o=-1,s=-1,r=-1,l=-1,i="",c=""){(0,te.Z)(this,"addedDate",void 0),(0,te.Z)(this,"id",void 0),(0,te.Z)(this,"name",void 0),(0,te.Z)(this,"eta",void 0),(0,te.Z)(this,"etaIdle",void 0),(0,te.Z)(this,"leftUntilDone",void 0),(0,te.Z)(this,"percentDone",void 0),(0,te.Z)(this,"rateDownload",void 0),(0,te.Z)(this,"isFinished",void 0),(0,te.Z)(this,"magnetLink",void 0),this.addedDate=e,this.id=t,this.name=n,this.eta=a,this.etaIdle=o,this.leftUntilDone=s,this.percentDone=r,this.rateDownload=l,this.isFinished=i,this.magnetLink=c}}const n=(0,f.iH)([]);function a(e){const t=new Date(1e3*e);return t instanceof Date&&!isNaN(t.getTime())?t.toLocaleString():null}const l=(0,o.f3)(r),c=(0,o.f3)(i);function d(){return l?.get("/transmission",{params:{fields:Object.keys(new t)}}).then((({data:{arguments:{torrents:e}}})=>{n.value=(e??[]).filter((({isFinished:e})=>!e)).map((e=>({...e,downloadRateHumanReadable:`${c?.(e.rateDownload)}/s`,percentDoneHumanReadable:`${(100*e.percentDone).toFixed(2)}%`,etaHumanReadable:a(e.eta)??"Unknown",torrentNameSplit:e.name.split(/([^A-Za-z0-9\[\]\(\)]+)/g)}))).sort((({name:e},{name:t})=>e.toLowerCase().localeCompare(t.toLowerCase())))}))}return(0,o.f3)(u)?.(d),(e,t)=>n.value.length?((0,o.wg)(),(0,o.j4)(k,{key:0,"header-icon":"fa-solid fa-cloud-arrow-down"},{header:(0,o.w5)((()=>[ne])),default:(0,o.w5)((()=>[(0,o._)("table",ae,[oe,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.value,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:`torrent${t}`},[(0,o._)("td",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.torrentNameSplit,((e,n)=>((0,o.wg)(),(0,o.iD)("span",{key:`${t}${n}`,textContent:(0,s.zw)(e)},null,8,se)))),128))]),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.percentDoneHumanReadable)},null,8,re),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.downloadRateHumanReadable)},null,8,le)])))),128))])])])),_:1})):(0,o.kq)("",!0)}});const ce=ie;var ue=ce;const de=(0,o.Uk)(" Weather "),fe=["src"],_e={class:"flex flex-col text-center"},we=(0,o._)("span",null,"Current:",-1),pe=["textContent"],me={class:"flex flex-col text-center"},he=(0,o._)("span",null,"Feels like:",-1),ve=["textContent"],xe={class:"weather__other-info"},ye=["textContent"],ge=["textContent"],Ce=["textContent"],be=["textContent"];var ke=(0,o.aZ)({setup(e){const t=(0,f.iH)(null),n=(0,o.f3)(r),{VUE_APP_LATITUDE:a,VUE_APP_LONGITUDE:l,VUE_APP_OPENWEATHERMAP_API_KEY:i}={VUE_APP_RPC_PASSWORD:"EnchantedGlossyFlamingo",VUE_APP_LATITUDE:"57.9548",VUE_APP_OPENWEATHERMAP_API_KEY:"c0dfee18f5839cd1ecb81dfe58875420",VUE_APP_LONGITUDE:"1.1581",VUE_APP_PI_URL:"/backend",VUE_APP_RPC_USERNAME:"jackellis",NODE_ENV:"production",BASE_URL:""};async function c(){n&&a&&l&&i?n?.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:"57.9548",lon:"1.1581",appid:"c0dfee18f5839cd1ecb81dfe58875420"},paramsSerializer:void 0})?.then((e=>t.value=e.data)):(console.error("No API key or coordinates set"),t.value=null)}const d=e=>`${(e-273.15).toFixed(1)}°C`;return(0,o.f3)(u)?.(c,6e4),(e,n)=>t.value?((0,o.wg)(),(0,o.j4)(k,{key:0,class:"weather","body-classes":"flex flex-row justify-around items-center"},{header:(0,o.w5)((()=>[de])),header_additional:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.weather,((e,t)=>((0,o.wg)(),(0,o.iD)("img",{key:t,class:"w-12 h-12",src:`http://openweathermap.org/img/wn/${e.icon}@2x.png`},null,8,fe)))),128))])),default:(0,o.w5)((()=>[(0,o._)("div",_e,[we,(0,o._)("strong",{class:"text-4xl",textContent:(0,s.zw)(d(t.value.main.temp))},null,8,pe)]),(0,o._)("div",me,[he,(0,o._)("strong",{class:"text-4xl",textContent:(0,s.zw)(d(t.value.main.feels_like))},null,8,ve)]),(0,o._)("div",xe,[(0,o._)("div",{class:"weather__row",textContent:(0,s.zw)(`Day min: ${d(t.value.main.temp_min)}`)},null,8,ye),(0,o._)("div",{class:"weather__row",textContent:(0,s.zw)(`Day max: ${d(t.value.main.temp_max)}`)},null,8,ge),(0,o._)("div",{class:"weather__row",textContent:(0,s.zw)(`Sunrise at ${new Date(1e3*t.value.sys.sunrise).toLocaleTimeString()}`)},null,8,Ce),(0,o._)("div",{class:"weather__row",textContent:(0,s.zw)(`Sunset at ${new Date(1e3*t.value.sys.sunset).toLocaleTimeString()}`)},null,8,be)])])),_:1})):(0,o.kq)("",!0)}});const De=ke;var Ue=De;const Pe={class:"w-full"},Ae=(0,o._)("thead",{class:"border-b"},[(0,o._)("th",{class:"w-4/12"},"Name"),(0,o._)("th",{class:"w-4/12"},"User"),(0,o._)("th",{class:"w-2/12"},"CPU"),(0,o._)("th",{class:"w-2/12"},"RAM")],-1),Ee=["textContent"],ze=["textContent"],je=["textContent"],$e=["textContent"];var Fe=(0,o.aZ)({setup(e){class t{constructor(e="",t="",n=-1,a=-1){(0,te.Z)(this,"name",void 0),(0,te.Z)(this,"username",void 0),(0,te.Z)(this,"cpu_percent",void 0),(0,te.Z)(this,"memory_percent",void 0),this.name=e,this.username=t,this.cpu_percent=n,this.memory_percent=a}}const n=(0,f.iH)(null),a=(0,o.f3)(r);function l(){a?.get("/processes",{params:{arguments:Object.keys(new t)}})?.then((({data:e})=>n.value=e.reduce(((e,t)=>{if(e.map((({name:e})=>e)).includes(t.name)){const n=e.map((({name:e})=>e)).indexOf(t.name),a=e[n];e[n]={...a,cpu_percent:a.cpu_percent+t.cpu_percent,memory_percent:a.memory_percent+t.memory_percent}}else e.push(t);return e}),[]).sort(((e,t)=>{const n=t.cpu_percent-e.cpu_percent;return 0!==n?n:t.memory_percent-e.memory_percent})).map((e=>({...e,cpu_percent_toFixed:e.cpu_percent.toFixed(0)+"%",memory_percent_toFixed:e.memory_percent.toFixed(0)+"%"})))))}return(0,o.f3)(u)?.(l),(e,t)=>n.value?((0,o.wg)(),(0,o.j4)(k,{key:0,class:"processes"},{default:(0,o.w5)((()=>[(0,o._)("table",Pe,[Ae,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.value.filter(((e,t)=>t<5)),((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",{textContent:(0,s.zw)(e.name)},null,8,Ee),(0,o._)("td",{textContent:(0,s.zw)(e.username)},null,8,ze),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.cpu_percent_toFixed)},null,8,je),(0,o._)("td",{class:"text-center",textContent:(0,s.zw)(e.memory_percent_toFixed)},null,8,$e)])))),128))])])])),_:1})):(0,o.kq)("",!0)}});const Se=Fe;var Ze=Se;const Oe={class:"flex flex-col flex-wrap w-full h-full justify-start items-center"};var He=(0,o.aZ)({setup(e){return setInterval((()=>{const e=document.querySelector("title");e&&(document.hasFocus()?e.innerText="Pi Dashboard":e.innerText="Pi Dashboard (idle)")}),1e3),(e,t)=>((0,o.wg)(),(0,o.iD)("div",Oe,[(0,o.Wm)(h),(0,o.Wm)(j),(0,o.Wm)(Ze),(0,o.Wm)(ee),(0,o.Wm)(O),(0,o.Wm)(V),(0,o.Wm)(ue),(0,o.Wm)(Ue)]))}});const Te=He;var Ie=Te;(0,a.ri)(Ie).provide(u,d).provide(i,c).provide(r,l).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],s=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],l=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var u=i(n)}for(t&&t(a);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self["webpackChunkpi_dash_front_end"]=self["webpackChunkpi_dash_front_end"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(5988)}));a=n.O(a)})();
//# sourceMappingURL=app.3ce217a8.js.map